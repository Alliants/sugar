<%
  mode ||= false
%>

<% if @invite %>
  <%= hidden_field_tag 'token', @invite.token %>
<% end %>

<%= f.labelled_text_field :username %>
<%= f.labelled_text_field :email, size: 50 %>

<% if mode == :openid %>
  <%= f.labelled_text_field :openid_url, size: 47, description: t('user.new.openid_description').html_safe %>
<% else %>
  <%= f.labelled_password_field :password %>
  <%= f.labelled_password_field :confirm_password %>
<% end %>

<p>
  <%= t('user.new.optional_fields') %>
</p>

<%= f.labelled_text_field :realname, size: 50 %>
<%= f.labelled_text_field :location, size: 50 %>
